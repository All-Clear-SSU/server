spring:
  datasource:
    # 환경변수에서 주입
    url: ${DB_URL}
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
    driver-class-name: oracle.jdbc.OracleDriver

# 밑 코드 주석 해제 시 http 요청/응답 로그 출력
# Spring Boot의 기본 로그 레벨이 INFO라서 DEBUG는 출력되지 않음
#  logging:
#    level:
#      opensource.project.config.LoggingInterceptor: DEBUG
#      org.hibernate.SQL: DEBUG

  jpa:
    hibernate:
      # 개발: update, 운영: validate (스키마 자동 업데이트)
      ddl-auto: update
    show-sql: false # true로 바꾸면 sql 실행되는 것 로그에 뜸
    properties:
      hibernate:
        dialect: org.hibernate.dialect.OracleDialect
        format_sql: true

# MQTT 설정 (환경변수에서 주입)
mqtt:
  enabled: ${MQTT_ENABLED:false}

# SpringDoc OpenAPI 설정
springdoc:
  swagger-ui:
    path: /swagger-ui.html
  default-consumes-media-type: application/json
  default-produces-media-type: application/json

# 서버 URL 설정 (HLS 스트림 등 외부 접근용)
app:
  server:
    base-url: ${SERVER_BASE_URL:http://localhost:8080}

# AI Object Detection API 설정
ai:
  object-detection:
    base-url: ${AI_API_BASE_URL:http://localhost:8000}
    predict-endpoint: /predict
    predict-image-endpoint: /predict_image
    confidence-threshold: 0.5

# 환경 분석 설정
spatial-analysis:
  screen:
    width: 1920
    height: 1080
  thresholds:
    dense-smoke: 0.5          # 짙은 연기 감지 임계값 (화면 대비 면적 비율)
    large-fire: 0.3           # 대형 화재 감지 임계값 (화면 대비 면적 비율)
    small-fire: 0.05          # 소형 화재 감지 임계값 (화면 대비 면적 비율)
    fire-overlap-human: 0.089 # 화재와 인간 바운딩 박스 겹침 임계값 (IoU)